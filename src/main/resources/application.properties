spring.application.name=app

# Database Configuration
spring.datasource.url=jdbc:${DB_DRIVER:h2:mem}://${DB_HOST:mem}:${DB_PORT:}/${DB_NAME:notesdb}
spring.datasource.username=${DB_USERNAME:}
spring.datasource.password=${DB_PASSWORD:}
spring.datasource.driver-class-name=${DB_DRIVER_CLASS:org.h2.Driver}

# JPA/Hibernate Configuration
spring.jpa.database-platform=${JPA_DATABASE_PLATFORM:org.hibernate.dialect.H2Dialect}
spring.jpa.hibernate.ddl-auto=${JPA_DDL_AUTO:}
spring.jpa.show-sql=${JPA_SHOW_SQL:true}
spring.jpa.properties.hibernate.format_sql=${JPA_FORMAT_SQL:true}

# SQL Initialization
spring.sql.init.mode=${SQL_INIT_MODE:}
spring.jpa.defer-datasource-initialization=${JPA_DEFER_DATASOURCE_INIT:}

# JWT Configuration
jwt.secret=${JWT_SECRET}
jwt.expiration=${JWT_EXPIRATION}

# Logging Configuration
logging.level.org.springframework.security=${LOGGING_LEVEL_SECURITY:INFO}
logging.level.com.spring.notes.app=${LOGGING_LEVEL_APP:INFO}
logging.level.org.hibernate.SQL=${LOGGING_LEVEL_SQL:INFO}
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=${LOGGING_LEVEL_SQL_BIND:INFO}
logging.level.root=${LOGGING_LEVEL_ROOT:INFO}

# Server Configuration
server.error.include-stacktrace=${SERVER_ERROR_STACKTRACE:on_param}
server.error.include-message=${SERVER_ERROR_MESSAGE:always}

# Actuator Configuration
management.endpoints.web.exposure.include=${ACTUATOR_ENDPOINTS:health,info}
management.endpoint.health.show-details=${ACTUATOR_HEALTH_DETAILS:when_authorized}

# Server configuration
server.port=8080

# Logging configuration
logging.level.com.spring.notes.app=INFO
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Jackson configuration
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.time-zone=UTC
spring.jackson.deserialization.adjust-dates-to-context-time-zone=false

# Validation messages
spring.messages.basename=validation

# OpenAPI/Swagger Configuration
springdoc.openapi-version=3.0.3
springdoc.swagger-ui.path=/index.html

# Redis Configuration
spring.data.redis.host=${REDIS_HOST:localhost}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.password=${REDIS_PASSWORD:}
spring.data.redis.database=${REDIS_DATABASE:0}
spring.data.redis.timeout=${REDIS_TIMEOUT:2000ms}

# Cache Configuration
spring.cache.type=redis
spring.cache.redis.time-to-live=${CACHE_TTL:600000}
spring.cache.redis.cache-null-values=false

# Flyway Configuration
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true
